<div style="color: #001529; font-size: 25px;" class="titulo">
   Gestión de Activos

    <button nz-button nzType="primary" style="float: right;" (click)="showCardAgregar()">
        <i nz-icon nzType="folder-add"></i>Nueva alta de activo
    </button>
    <button nz-button nzType="default" style="float: right;" (click)="showCardListado()">
        <i nz-icon nzType="bars"></i>Lista de mis activos
    </button>


    <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
</div>

<form [formGroup]="frm_activoBaja" style="margin-left: 30px;margin-right: 30px;display: none;">       

    <table>
        <thead>
            <tr >
                <th>
                    Código
                </th>
                <th>
                    Activo
                </th>
            </tr>
        </thead>
        <tbody  formArrayName="actSeleccionadosBajas">
            <tr *ngFor="let item of actSeleccionadosBajas.controls; let pointIndex=index" [formGroupName]="pointIndex">
                <td>
                  <input nz-input type="text" formControlName="idActivo" readonly="true">
                </td>
               
                <td>
                    <input nz-input type="text" formControlName="descripcion" readonly="true">
                  </td>
               
                <button id="btnEliminarActBaja{{item.value.idActivo}}"
                (click)="eliminarActBaja(pointIndex)"><i nz-icon nzType="rest" nzTheme="outline"></i></button>

            </tr>
        </tbody>
    </table>
  </form>


  <form [formGroup]="frm_activoTraslado" style="margin-left: 30px;margin-right: 30px; display: none;">       

    <table>
        <thead>
            <tr >
                <th>
                    Código
                </th>
                <th>
                    Activo
                </th>

                
            </tr>
        </thead>
        <tbody  formArrayName="actSeleccionadosTraslados">
            <tr *ngFor="let item of actSeleccionadosTraslados.controls; let pointIndex=index" [formGroupName]="pointIndex">
                <td>
                  <input nz-input type="text" formControlName="idActivo" readonly="true">
                </td>
               
                <td>
                    <input nz-input type="text" formControlName="descripcion" readonly="true">
                  </td>
               
                <button id="btnEliminarActTraslado{{item.value.idActivo}}"
                (click)="eliminarActTraslado(pointIndex)"><i nz-icon nzType="rest" nzTheme="outline"></i></button>

            </tr>
        </tbody>
    </table>
  </form>



<!--card para lista de mis activos-->
<nz-card style="width:98%" class="cardShadow" *ngIf="mostrarCardListado">
    <div nz-row>
        <div nz-col nzSpan="12">
            <h2> <i nz-icon nzType="bars" nzTheme="outline"></i> Listado de mis de activos</h2>
        </div>

        <div  nz-col [nzSpan]="4">
            <button *ngIf="btnFinalizarBajas" (click)="finalizarListadoBajas()" nz-button nzType="default" 
            style="float: right !important; margin-right: 10px !important; background-color: #AA0260 !important;
            color:white; margin-top: 5px;">Finalizar selección de bajas</button>


        <button *ngIf="btnFinalizarTraslados" (click)="finalizarListadoTraslados()" nz-button nzType="default" 
            style="float: right !important; margin-right: 10px !important; background-color: #029BAA !important;
            color:white; margin-top: 5px;">Finalizar selección de traslados</button>
        </div>

        <div nz-col nzSpan="4">
            <nz-form-label>Buscar </nz-form-label>
            <input nz-input [(ngModel)]="_textoUser" id="textoUser" name="textoUser"
            autocomplete="off" placeholder="Buscar" (ngModelChange)="ConvertToLowerUser($event)">
        </div>

        <div nz-col nzSpan="4">
            <nz-form-label>Buscar por código</nz-form-label>
            <input nz-input [(ngModel)]="_texto2" id="texto2" name="texto2" placeholder="Buscar" autocomplete="off"
             (ngModelChange)="ConvertToLower2($event)">
        </div>

    </div>
    
    <nz-tabset nzTabPosition="left">
        
        <nz-tab [nzTitle]="altasUserTab" (nzClick)="getAltasUser()">

            <ng-template #altasUserTab>
                Mis Altas  <nz-badge [nzCount]="conteoAltasUser" nzShowZero
                [nzStyle]="{ backgroundColor: '#39136D' }"></nz-badge>
              </ng-template>

            <div nz-row>
                <div nz-col [nzSpan]="12">
                    <h2 style="color: #39136D !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                        Mis Altas</h2>
                </div>
                
              

                    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                 
            </div>
                <nz-table nzShowPagination #altasUser
                nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaAltasUser($event)" 
                [nzData]="listaAltasUserObj | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                    <thead>
                      <tr>
        
                        <th style="background-color: #39136D !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                        <th style="background-color: #39136D !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                        <th style="background-color: #39136D !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de alta</th>
                          <th style="background-color: #39136D !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr  *ngFor="let ob of altasUser.data">
                        <td>{{ ob.af_codigo_interno }}</td>
                        <td>{{ ob.descripcion_bien }}</td>
                        <td>{{ ob.fechaAlta }}</td>
                        <td  style="text-align: center; align-items: center;">
                            <button style="margin: 5px !important;" nz-button nzType="primary" (click)="editarActFijo(ob,2, ob.imagen_factura)"
                            nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                           <!-- <button nz-button nzType="default" (click)="trasladarActivo(ob)"
                            *ngIf="ob.estadoActivo=='Activo' && ob.estadoAc!='B'"
                            nzTooltipTitle="Traslado de activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="send" nzTheme="outline"></i></button>
                            <button nz-button nzType="danger" (click)="mostrarModalInicioBaja(ob)"
                            *ngIf="ob.estadoActivo=='Activo' && ob.estadoAc!='B'"
                            nzTooltipTitle="Iniciar baja de activo" nzTooltipPlacement="topCenter" nz-tooltip>
                            <i nz-icon nzType="rest" nzTheme="outline"></i></button>-->
                            
                            <input type="checkbox"  value="ob.af_codigo_interno" nzTooltipTitle="Seleecionar para baja" 
                            nzTooltipPlacement="topCenter" nz-tooltip 
                            style="height: 20px !important; width: 20px !important; margin: auto; margin-right: 10px;"
                            (change)="seleccionarActBaja($event.target.checked, ob)">
                               
                            <input type="checkbox" value="ob.af_codigo_interno" 
                            nzTooltipTitle="Seleecionar para traslado" nzTooltipPlacement="topCenter" nz-tooltip
                            style="height: 20px !important; width: 20px !important; margin: auto;"
                            (change)="seleccionarActTraslado($event.target.checked, ob)">
                        </td>
                      </tr>
                    </tbody>
                </nz-table>

                
               

        </nz-tab>

        <nz-tab [nzTitle]="trasladosRecibidosUserTab" (nzClick)="getTrasladosRecibidosUser()">

            <ng-template #trasladosRecibidosUserTab>
               Traslados Recibidos <nz-badge [nzCount]="conteoTrasladosRecibidosUser" nzShowZero
                [nzStyle]="{ backgroundColor: '#0E508E' }"></nz-badge>
              </ng-template>
            <div nz-row>
                <h2 style="color: #0E508E !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                     Traslados Recibidos</h2>

                    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                
            </div>
                <nz-table nzShowPagination #trasladosRecibidosUser
                nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaTrasladosRecibidosUser($event)"
                 [nzData]="listaTrasladosUserObj | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                    <thead>
                      <tr>
        
                        <th style="background-color: #0E508E !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                        <th style="background-color: #0E508E !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                       <th style="background-color: #0E508E !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de traslado</th>
                        <th style="background-color: #0E508E !important;"><i nz-icon nzType="user" nzTheme="outline"></i> Usuario anterior </th>
                        <th style="background-color: #0E508E !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ob of trasladosRecibidosUser.data">
                        <td>{{ ob.af_codigo_interno }}</td>
                        <td style="width: 20% !important;">{{ ob.descripcion_bien }}</td>
                        <td>{{ ob.fechaTraslado }} {{ob.horaTraslado}}</td>
                        <td>{{ ob.usuarioAnterior }}</td>
                        <td  style="text-align: center; align-items: center;">
                            <button style="margin: 5px !important;" nz-button nzType="default" nzDanger (click)="editarActFijo(ob,2, ob.imagen_factura)"
                            nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                                
                            <input type="checkbox"  value="ob.af_codigo_interno" nzTooltipTitle="Seleecionar para baja" 
                            nzTooltipPlacement="topCenter" nz-tooltip 
                            style="height: 20px !important; width: 20px !important; margin: auto; margin-right: 10px;"
                            (change)="seleccionarActBaja($event.target.checked, ob)">
                               
                            <input type="checkbox" value="ob.af_codigo_interno" 
                            nzTooltipTitle="Seleecionar para traslado" nzTooltipPlacement="topCenter" nz-tooltip
                            style="height: 20px !important; width: 20px !important; margin: auto;"
                            (change)="seleccionarActTraslado($event.target.checked, ob)">
                        </td>
                      </tr>
                    </tbody>
                </nz-table>
        </nz-tab>


        <nz-tab [nzTitle]="trasladosUserHechosTab" (nzClick)="getTrasladosHechosUser()">

            <ng-template #trasladosUserHechosTab>
                Traslados hechos  <nz-badge [nzCount]="conteoTrasladosHechosUser" nzShowZero
                [nzStyle]="{ backgroundColor: '#099322' }"></nz-badge>
              </ng-template>

                    <div nz-row>
                        <h2 style="color: #099322 !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                             Traslados Hechos</h2>
        
                            <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                        
                    </div>
                        <nz-table nzShowPagination #trasladosHechosUser
                        nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaTrasladosRecibidosUser($event)"
                         [nzData]="listaTrasladosHechosUserObj  | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                            <thead>
                              <tr>
                
                                <th style="background-color: #099322 !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                                <th style="background-color: #099322 !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                               <th style="background-color:  #099322 !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de traslado</th>
                                <th style="background-color: #099322 !important;"><i nz-icon nzType="user" nzTheme="outline"></i> Usuario asignado </th>
                                <th style="background-color: #099322 !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let ob of trasladosHechosUser.data">
                                <td>{{ ob.af_codigo_interno }}</td>
                                <td style="width: 20% !important;">{{ ob.descripcion_bien }}</td>
                                <td>{{ ob.fechaTraslado }} {{ob.horaTraslado}}</td>
                                <td>{{ ob.usuarioNuevo }}</td>
                                <td  style="text-align: center; align-items: center;">
                                    <button style="margin: 5px !important;" nz-button nzType="default" nzDanger (click)="editarActFijo(ob,2, ob.imagen_factura)"
                                    nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                                   
                                </td>
                              </tr>
                            </tbody>
                        </nz-table>
                
            
                
        </nz-tab>

        <nz-tab [nzTitle]="bajasUserTab" (nzClick)="getBajasUser()">

            <ng-template #bajasUserTab>
                Mis Bajas  <nz-badge [nzCount]="conteoBajasUser" nzShowZero
                [nzStyle]="{ backgroundColor: '#8E2B0E' }"></nz-badge>
              </ng-template>
            <div nz-row>
                <h2 style="color: #8E2B0E !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                    Mis Bajas</h2>

                    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                
            </div>
            <nz-table nzShowPagination #bajasUser
                nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaBajasUser($event)"
                 [nzData]="listaBajasUserObj | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                    <thead>
                      <tr>
        
                        <th style="background-color: #8E2B0E !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                        <th style="background-color: #8E2B0E !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                       <th style="background-color: #8E2B0E !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de baja</th>
                        <th style="background-color: #8E2B0E !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ob of bajasUser.data">
                        <td>{{ ob.af_codigo_interno }}</td>
                        <td>{{ ob.descripcion_bien }}</td>
                        <td>{{ ob.fechaBaja }} {{ ob.horaBaja }}</td>
                        <td  style="text-align: center; align-items: center;">
                            <button style="margin: 5px !important;" nz-button nzType="default" nzDanger (click)="editarActFijo(ob,2, ob.imagen_factura)"
                            nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                         
                        </td>
                      </tr>
                    </tbody>
            </nz-table>
        </nz-tab >

        <nz-tab [nzTitle]="altasPendientesUserTab" (nzClick)="getAltasPendientesUser()">

            <ng-template #altasPendientesUserTab>
                Altas pend. de aceptación <nz-badge [nzCount]="conteoAltasPenUser" nzShowZero
                [nzStyle]="{ backgroundColor: '#C8690A' }"></nz-badge>
              </ng-template>
            <div nz-row>
                <h2 style="color: #C8690A !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                    Mis altas pendientes de aceptación</h2>

                    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                
            </div>
            <nz-table nzShowPagination #altasPendientesUser
                nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaAltasPendientesUser($event)"
                 [nzData]="listaAltasPendienteUserObj  | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                    <thead>
                      <tr>
        
                        <th style="background-color: #C8690A !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                        <th style="background-color: #C8690A !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                       <th style="background-color: #C8690A !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de compra</th>
                       <th style="background-color: #C8690A !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ob of altasPendientesUser.data">
                        <td>{{ ob.af_codigo_interno }}</td>
                        <td>{{ ob.descripcion_bien }}</td>
                        <td>{{ ob.fechaCompraT }}</td>
                        <td  style="text-align: center; align-items: center;">
                            <button style="margin: 5px !important;" nz-button nzType="default" nzDanger (click)="editarActFijo(ob,2, ob.imagen_factura)"
                            nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                
                        </td>
                      </tr>
                    </tbody>
            </nz-table>
        </nz-tab>

        <nz-tab [nzTitle]="trasladosHechosPendientesUserTab" (nzClick)="getTrasladosHechosPendientesUser()">

            <ng-template #trasladosHechosPendientesUserTab>
                Traslados hechos pend. de aceptación <nz-badge [nzCount]="conteoTrasladosHechosPendientesRecibir" nzShowZero
                [nzStyle]="{ backgroundColor: '#0A0702' }"></nz-badge>
              </ng-template>

            <div nz-row>
                <h2 style="color: #0A0702 !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                    Traslados hechos pendientes de aceptación</h2>

                    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                
            </div>
            <nz-table nzShowPagination #trasladosHechosPendientesUser
                nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaTrasladosHechosPendientesUser($event)"
                 [nzData]="listaTrasladosHechosPendientesUserObj  | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                    <thead>
                      <tr>
        
                        <th style="background-color: #0A0702 !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                        <th style="background-color: #0A0702 !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                       <th style="background-color:  #0A0702 !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de compra</th>
                        <th style="background-color: #0A0702 !important;"><i nz-icon nzType="user" nzTheme="outline"></i> Por asignar a </th>
                        <th style="background-color: #0A0702 !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ob of trasladosHechosPendientesUser.data">
                        <td>{{ ob.af_codigo_interno }}</td>
                        <td style="width: 20% !important;">{{ ob.descripcion_bien }}</td>
                        <td>{{ ob.fechaCompraT }}</td>
                        <td>{{ ob.asignado }}</td>
                        <td  style="text-align: center; align-items: center;">
                            <button style="margin: 5px !important;" nz-button nzType="default" nzDanger (click)="editarActFijo(ob,2, ob.imagen_factura)"
                            nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                        
                        </td>
                      </tr>
                    </tbody>
            </nz-table>
        </nz-tab>

        <nz-tab [nzTitle]="trasladosPendientesRecibirUserTab" (nzClick)="getTrasladosRecibidosPendientesUser()">

            <ng-template #trasladosPendientesRecibirUserTab>
                Traslados por recibir pend. de aceptación <nz-badge [nzCount]="conteoTrasladosRecibidosPendientesRecibir" nzShowZero
                [nzStyle]="{ backgroundColor: '#8C055D' }"></nz-badge>
              </ng-template>

            <div nz-row>
                <h2 style="color: #8C055D !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                    Traslados por recibir pendientes de aceptación </h2>

                    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                
            </div>
            <nz-table nzShowPagination #trasladosPendientesRecibirUser
                nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaTrasladosRecibidosPendientesUser($event)"
                 [nzData]="listaTrasladosRecibidosPendientesUserObj | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                    <thead>
                      <tr>
        
                        <th style="background-color: #8C055D !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                        <th style="background-color: #8C055D !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                       <th style="background-color:  #8C055D !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de compra</th>
                        <th style="background-color: #8C055D !important;"><i nz-icon nzType="user" nzTheme="outline"></i> Recibiendo de </th>
                        <th style="background-color: #8C055D !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ob of trasladosPendientesRecibirUser.data">
                        <td>{{ ob.af_codigo_interno }}</td>
                        <td style="width: 20% !important;">{{ ob.descripcion_bien }}</td>
                        <td>{{ ob.fechaCompraT }}</td>
                        <td>{{ ob.usuarioAnterior }}</td>
                        <td  style="text-align: center; align-items: center;">
                            <button style="margin: 5px !important;" nz-button nzType="default" nzDanger (click)="editarActFijo(ob,2, ob.imagen_factura)"
                            nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                            
                            <button style="margin: 5px !important;" nz-button nzType="primary"
                            *ngIf="ob.estadoActivo=='Pendiente' && ob.estadoAc=='T'"
                            nzTooltipTitle="Aceptar traslado" nzTooltipPlacement="topCenter" nz-tooltip (click)="confimarTraslado(ob)"><i nz-icon nzType="check" nzTheme="outline"></i></button>
        
        
                        </td>
                      </tr>
                    </tbody>
            </nz-table>
        </nz-tab>


        <nz-tab [nzTitle]="bajasPendientesUserTab" (nzClick)="getBajasPendientesUser()">

            <ng-template #bajasPendientesUserTab>
                Bajas pend. de aceptación <nz-badge [nzCount]="conteoBajasPenUser" nzShowZero
                [nzStyle]="{ backgroundColor: '#86001C' }"></nz-badge>
              </ng-template>
            <div nz-row>
                <h2 style="color: #86001C !important;"> <i nz-icon nzType="bars" nzTheme="outline"></i>
                    Mis bajas pendientes de aceptación</h2>

                    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeletonTabla"></nz-skeleton>
                
            </div>
            <nz-table nzShowPagination #bajasPendientesUser
                nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="paginacionTablaBajasPendientesUser($event)"
                 [nzData]="listaBajasPendienteUserObj | searchactgestionuser: textoUser | searchafCode: texto2" *ngIf="mostrarTablaCarga">
                    <thead>
                      <tr>
        
                        <th style="background-color: #86001C !important;"><i nz-icon nzType="barcode" nzTheme="outline"></i> Código</th>
                        <th style="background-color: #86001C !important;"><i nz-icon nzType="edit" nzTheme="outline"></i> Descripción</th>
                       <th style="background-color: #86001C !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha de compra</th>
                       <th style="background-color: #86001C !important;"><i nz-icon nzType="calendar" nzTheme="outline"></i> Motivo</th>
                        <th style="background-color: #86001C !important;text-align: center;"><i nz-icon nzType="bars" nzTheme="outline"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ob of bajasPendientesUser.data">
                        <td>{{ ob.af_codigo_interno }}</td>
                        <td>{{ ob.descripcion_bien }}</td>
                        <td>{{ ob.fechaCompraT }}</td>
                        <td>{{ ob.motivoBaja }}</td>
                         <td  style="text-align: center; align-items: center;">
                            <button style="margin: 5px !important;" nz-button nzType="default" nzDanger (click)="editarActFijo(ob,2, ob.imagen_factura)"
                            nzTooltipTitle="Detalles del activo" nzTooltipPlacement="topCenter" nz-tooltip><i nz-icon nzType="edit" nzTheme="outline"></i></button>
                        
                        </td>
                      </tr>
                    </tbody>
            </nz-table>
        </nz-tab>
    </nz-tabset>
  


</nz-card>

<!--Card para mostrar formulario de alta de activo-->
<nz-card style="width:95%" class="cardShadow" *ngIf="mostrarCardAgregar">
    <nz-skeleton [nzActive]="true"  *ngIf="mostrarSkeleton"></nz-skeleton>
    <form nz-form  [formGroup]="altaActivoForm">
    <div nz-row *ngIf="datosCargados">

        <div nz-col nzSpan="24">
            <div nz-row>
                <div nz-col [nzSpan]="5">
                    <h2><i nz-icon nzType="file-add" nzTheme="fill"></i> Nuevo Activo</h2>

                </div>
            </div>
        </div>

        
     
   
        <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>

        <div nz-col nzSpan="24">
            <div nz-row>
                <div nz-col [nzSpan]="5">
                    <div nz-col nzSpan="24">
                        <div nz-row>
                            <div nz-col [nzSpan]="15">
                                <nz-form-label nzRequired>Tipo de documento</nz-form-label>
                            </div>
                            <div nz-col [nzSpan]="9">
                                <button nz-button nzType="default" 
                                style="float: right !important; margin-right: 10px !important; margin-bottom: 5px;" 
                                (click)="actualizarListadoTipoDocs()"><i nz-icon nzType="reload"></i></button>
                            </div>
                        </div>
                    </div>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo de documento" formControlName="tipoDocumento">
                        <nz-option *ngFor="let tp of objTipoDocumentosTbl" nzValue="{{tp.codigo_tipo_documento}}" nzLabel="{{tp.descripcion_tipo_documento}}"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="3">
                    <nz-form-label nzRequired>N° de documento</nz-form-label>
                    <input type="text" nz-input placeholder="N° de documento" formControlName="numeroDocumento">

                    <input type="hidden"  formControlName="asignadoA" [(ngModel)]="user.id" readonly>
                </div>

                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="7">
                    <nz-form-label nzRequired>Imagen</nz-form-label>
                    <input type="file" nz-input placeholder="Adjuntar imagen" formControlName="imagenDoc"
                    (change)="asignarImagen($event)">

                    <input type="hidden"  formControlName="asignadoA" [(ngModel)]="user.id" readonly>
                </div>

                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="6">
                    <div nz-col nzSpan="24">
                        <div nz-row>
                            <div nz-col [nzSpan]="15">
                                <nz-form-label nzRequired>Tipo de Activo</nz-form-label>
                            </div>
                            <div nz-col [nzSpan]="9">
                                <button nz-button nzType="default" 
                                style="float: right !important; margin-right: 10px !important; margin-bottom: 5px;" 
                                (click)="actualizarListadoTipoActivoPPYE()"><i nz-icon nzType="reload"></i></button>
                            </div>
                        </div>
                    </div>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo de activo" formControlName="codigo_ppye"
                    (ngModelChange)="getCuentaContablePPYE()">
                        <nz-option *ngFor="let tp of objTipoActivosTbl" nzValue="{{tp.cod_ppye}}" nzLabel="{{tp.descripcion_ppye}}"></nz-option>
                    </nz-select>
                </div>

            </div>
        </div>


        <div>
            <div nz-col nzSpan="24"  *ngFor="let tp of (objTipoActivoPPYE || [])" >
                <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
    
                <h3>Detalles del tipo de activo</h3>
                <div nz-row>
                    <div nz-col [nzSpan]="1"></div>
                    <div nz-col [nzSpan]="5">
                        <nz-form-label nzRequired>Cuenta contable asociada</nz-form-label>
                        <input type="text" placeholder="Cuenta contable asociada" nz-input
                        [(ngModel)]="tp.cuenta_contable" formControlName="cuentaContable" readonly>
                    </div>
                    <div nz-col [nzSpan]="1"></div>
                    <div nz-col [nzSpan]="3">
                        <nz-form-label nzRequired>Tasa Fiscal</nz-form-label>
                        <input type="text" placeholder="Tasa Fiscal" nz-input
                        [(ngModel)]="tp.tasaFiscal" formControlName="tasaFiscal" readonly>
                    </div>

                    <div nz-col [nzSpan]="1"></div>
                    <div nz-col [nzSpan]="4">
                        <nz-form-label nzRequired>Vida útil Fiscal(Años)</nz-form-label>
                        <input type="text" placeholder="Vida útil (Años)" nz-input
                        [(ngModel)]="tp.vidaUtil" formControlName="vidaUtil" readonly>
                    </div>

                    <div nz-col [nzSpan]="1"></div>
                    <div nz-col [nzSpan]="3">
                        <nz-form-label nzRequired>Tasa Financiera</nz-form-label>
                        <input type="text" placeholder="Tasa Financiera" nz-input
                        [(ngModel)]="tp.tasaFinan" formControlName="tasaFinanciera" readonly>
                    </div>
    
                    <div nz-col [nzSpan]="1"></div>
                    <div nz-col [nzSpan]="4">
                        <nz-form-label nzRequired>Vida útil Financiera(Años)</nz-form-label>
                        <input type="text" placeholder="Vida útil (Años)" nz-input
                        [(ngModel)]="tp.vidaUtilFinanciera" formControlName="vidaUtilFinanciera" readonly>
                    </div>
                    
                </div>

                <div nz-row>
                    <div nz-col [nzSpan]="1"></div>
                    <div nz-col [nzSpan]="5">
                        <nz-form-label nzRequired>Tipo de bien</nz-form-label>
                        <input type="text" placeholder="Vida útil (Años)" nz-input
                        [(ngModel)]="tp.tipo_bien" formControlName="tipo_bien" readonly>
                    </div>
                    <div nz-col [nzSpan]="1"></div>
                    <div nz-col [nzSpan]="5">
                        <nz-form-label nzRequired>Siglas</nz-form-label>
                        <input type="text" nz-input [(ngModel)]="tp.siglas" formControlName="siglas" readonly>
                    </div>
                </div>
                <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
    
            </div>
        </div>
     

        <div nz-col nzSpan="24">
            <div nz-row style="margin-top: 20px !important;">
                
                
                <div nz-col [nzSpan]="4" *ngIf="user.rol != 'Usuario'">
                    <nz-form-label nzRequired>Fecha de registro</nz-form-label>
                        <input type="date" nz-input formControlName="fechaRegistro">
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="3" *ngIf="user.rol != 'Usuario'">
                    <nz-form-label nzRequired>Tipo de partida</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo de partida" formControlName="tipoPartida">
                        <nz-option *ngFor="let tp of objTipoPartida" nzValue="{{tp.tipo_partida_id}}" nzLabel="{{tp.tipo_partida_descripcion}}"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="8">
                    <div nz-col nzSpan="24">
                        <div nz-row>
                            <div nz-col [nzSpan]="15">
                                <nz-form-label nzRequired>Descripción del bien</nz-form-label>
                            </div>
                            <div nz-col [nzSpan]="9">
                                <button nz-button nzType="default" 
                                style="float: right !important; margin-right: 10px !important; margin-bottom: 5px;" 
                                (click)="actualizarListadoDescripcionBien()"><i nz-icon nzType="reload"></i></button>
                            </div>
                        </div>
                    </div>

                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Descripción del bien" formControlName="descripcionBien">
                        <nz-option *ngFor="let tp of descActivos" nzValue="{{tp.nombre}}" nzLabel="{{tp.nombre}}"></nz-option>
                    </nz-select>

                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="6">
                    <div nz-col nzSpan="24">
                        <div nz-row>
                            <div nz-col [nzSpan]="17">
                                <nz-form-label nzRequired>VNR - Tipo de activo fijo</nz-form-label>
                            </div>
                            <div nz-col [nzSpan]="7">
                                <button nz-button nzType="default" 
                                style="float: right !important; margin-right: 10px !important; margin-bottom: 5px;" 
                                (click)="actualizarListadoTipoActivoVNR()"><i nz-icon nzType="reload"></i></button>
                            </div>
                        </div>
                    </div>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="VNR - Tipo de activo fijo" formControlName="tipoActivoVNR">
                        <nz-option *ngFor="let tp of objTipoBienVNR" nzValue="{{tp.codigo_tipo_bien_vnr}}" nzLabel="{{tp.nombre_tipo_bien}}"></nz-option>
                    </nz-select>
                </div>
            </div>
        </div>

        <div nz-col nzSpan="24">
            <div nz-row style="margin-top: 20px !important;">
                <div nz-col [nzSpan]="7">
                    <nz-form-label nzRequired>VNR - Área ubicación del bien </nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="VNR - Área ubicación del bien" formControlName="areaUbicacionVNR">
                        <nz-option nzValue="General" nzLabel="General"></nz-option>
                        <nz-option nzValue="Distribución" nzLabel="Distribución"></nz-option>
                        <nz-option nzValue="Comercial" nzLabel="Comercial"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="7">
                    <nz-form-label nzRequired>VNR - Centro del costo del bien</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="VNR - Centro del costo del bien" formControlName="ccCostoVnr">
                        <nz-option *ngFor="let tp of objCCostoBien" nzValue="{{tp.estructura11_id}}" nzLabel="{{tp.estructura11_nombre}}"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="2"></div>
                <div nz-col [nzSpan]="7" *ngIf="user.rol != 'Usuario'">
                    <div nz-col nzSpan="24">
                        <div nz-row>
                            <div nz-col [nzSpan]="10">
                                <nz-form-label nzRequired>Tipo Agd</nz-form-label>
                            </div>
                            <div nz-col [nzSpan]="14">
                                <button nz-button nzType="default" 
                                style="float: right !important; margin-right: 10px !important; margin-bottom: 5px;" 
                                (click)="actualizarListadoAGD()"><i nz-icon nzType="reload"></i></button>
                            </div>
                        </div>
                    </div>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo Agd" formControlName="tipoAgd">
                        <nz-option *ngFor="let tp of objClasificacionAgd" nzValue="{{tp.codigo_agd}}" nzLabel="{{tp.descripcion_agd}}"></nz-option>
                    </nz-select>
                </div>
            </div>
        </div>

        <div nz-col nzSpan="24">
            <div nz-row style="margin-top: 20px !important;">
                <div nz-col [nzSpan]="10">
                    <nz-form-label nzRequired>Bodega Asignada</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Bodega Asignada" formControlName="bodegaAsignada">
                        <nz-option *ngFor="let tp of objBodegas" nzValue="{{tp.bodega_id}}"
                        nzLabel="{{tp.codigo}} -- {{tp.descripcion}}"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="6">
                    <div nz-col nzSpan="24">
                        <div nz-row>
                            <div nz-col [nzSpan]="10">
                                <nz-form-label nzRequired>Marca del bien </nz-form-label>
                            </div>
                            <div nz-col [nzSpan]="14">
                                <button nz-button nzType="default" 
                                style="float: right !important; margin-right: 10px !important; margin-bottom: 5px;" 
                                (click)="actualizarListadoMarcas()"><i nz-icon nzType="reload"></i></button>
                            </div>
                        </div>
                    </div>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Marca del bien" (ngModelChange)="filtrarModelos()"
                    formControlName="codigo_marca">
                        <nz-option *ngFor="let tp of objMarcasActivosTbl" nzValue="{{tp.codigo_marca}}" nzLabel="{{tp.nombre_marca}}"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="6">
                    <nz-form-label nzRequired>Modelo del bien</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Modelo del bien" formControlName="modeloBien">
                        <nz-option nzValue="0" nzLabel="Selecciona una marca" *ngIf="validarModelo"></nz-option>
                        <nz-option *ngFor="let tp of objModelosActivos" nzValue="{{tp.codigo_modelo}}" nzLabel="{{tp.nombre_modelo}}"></nz-option>
                    </nz-select>
                </div>



            </div>
        </div>



        <div nz-col nzSpan="24">
            <div nz-row style="margin-top: 20px !important;">
                <div nz-col [nzSpan]="3">
                    <nz-form-label nzRequired>Serie</nz-form-label>
                    <input type="text" nz-input placeHolder="Serie"  autocomplete="off" formControlName="serieBien"/>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="6">
                    <nz-form-label nzRequired>Otras especificaciones</nz-form-label>
                    <textarea rows="3" placeholder="Otras especificaciones" nz-input formControlName="otrasEspecificaciones" autocomplete="off"></textarea>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="4">
                    <nz-form-label nzRequired>Fecha de compra</nz-form-label>
                    <input type="date" formControlName="fechaCompra" nz-input>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="8">
                    <nz-form-label nzRequired>Proveedor</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Proveedor" formControlName="proveedor">
                        <nz-option *ngFor="let tp of objProveedores" nzValue="{{tp.entidad_id}}" nzLabel="{{tp.NOMBRE}}"></nz-option>
                    </nz-select>
                </div>
            </div>
        </div>

        <div nz-col nzSpan="24">
            <div nz-row style="margin-top: 20px !important;">
                <div nz-col [nzSpan]="5">
                    <nz-form-label nzRequired>Departamento</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Departamento" formControlName="cod_departamento"
                    (ngModelChange)="filtrarMunicipios()">
                        <nz-option *ngFor="let tp of objDepartamentos" nzValue="{{tp.ID}}" nzLabel="{{tp.DepName}}"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="5">
                    <nz-form-label nzRequired>Municipio</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Municipio" formControlName="municipio">
                        <nz-option nzValue="0" nzLabel="Selecciona un departamento" *ngIf="validarDepartamento"></nz-option>
                        <nz-option *ngFor="let tp of objMunicipios" nzValue="{{tp.ID}}" nzLabel="{{tp.MunName}}"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="6">
                    <nz-form-label nzRequired>Ubicación Física</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Ubicación Física" formControlName="ubicacionFisica">
                        <nz-option *ngFor="let tp of objUbicacionFisica" nzValue="{{tp.id}}" nzLabel="{{tp.ubicacion}}"></nz-option>
                    </nz-select>
                </div>

                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="5">
                    <nz-form-label nzRequired>Ubicación específica</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Estado del activo" formControlName="ubicacionEspecifica">
                        <nz-option *ngFor="let tp of objUbicacionEspecifica" nzValue="{{tp.id}}" nzLabel="{{tp.ubicacion}}"></nz-option>
                    </nz-select>
                </div>
            </div>
        </div>

        <div nz-col nzSpan="24">
            <div nz-row style="margin-top: 20px !important;">
                <div nz-col [nzSpan]="5">
                    <nz-form-label nzRequired>Estado del activo</nz-form-label>
                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Estado del activo" formControlName="estadoActivo">
                        <nz-option nzValue="A" nzLabel="Activo"></nz-option>
                    </nz-select>
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="7">
                    <nz-form-label nzRequired>Valor de compra (sin IVA)</nz-form-label>
                    <input type="number" step="0.01" nz-input placeholder="Valor de compra" autocomplete="off" formControlName="valorSiva">
                </div>
                <div nz-col [nzSpan]="1"></div>
                <div nz-col [nzSpan]="7" *ngIf="user.rol == 'Administrador Act. Contable'">
                     <nz-form-label nzRequired >Valor residual</nz-form-label>
                     <input type="number" step="0.01"  nz-input placeholder="Valor residual" autocomplete="off" formControlName="af_valor_residual">
                 </div>
                 <div nz-col [nzSpan]="1"></div>
                 <div nz-col [nzSpan]="7" *ngIf="user.rol == 'Administrador Act. VNR'">
                     <nz-form-label nzRequired>Valor VNR</nz-form-label>
                     <input type="number" step="0.01"  nz-input placeholder="Valor VNR" autocomplete="off" formControlName="af_valor_vnr_siva">
                 </div>
            </div>
        </div>

        <div nz-col nzSpan="24">
            <div nz-row style="margin-top: 40px !important;">
                <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
                <button (click)="guardarAltaActivo()" [disabled] = "altaActivoForm.invalid" nz-button nzType="primary" nzBlock>Guardar datos</button>
            </div>
        </div>

    </div>
    </form>
</nz-card>




<!--Modal para mostrar formulario de edición de activo-->
<nz-modal nzWidth="90%" [(nzVisible)]="modalDetallesActivo" *ngIf="datosCargadosEditar"
[nzStyle]="{ top: '10px' }"
[nzFooter]="modalFooterDetallesActivo" [nzContent]="modalContentDetallesActivo" (nzOnCancel)="cerrarCardEditar()">
    <ng-template #modalContentDetallesActivo>
        <form nz-form  [formGroup]="editarActivoForm">
            <div nz-row *ngIf="datosCargadosEditar">
        
                <div nz-col nzSpan="18">
                    <h2><i nz-icon nzType="file-add" nzTheme="fill"></i> Detalles del Activo</h2>
        
                </div>
        
        
                <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
        
                <nz-tabset>
                    <nz-tab nzTitle="Detalles del activo">
                        <div nz-col nzSpan="24">
                            <div nz-row>
                                <div nz-col [nzSpan]="5">
                                    <div nz-col nzSpan="24">
                                        <div nz-row>
                                            <div nz-col [nzSpan]="15">
                                                <nz-form-label nzRequired>Tipo de documento</nz-form-label>
                                            </div>
                                        </div>
                                    </div>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo de documento" formControlName="codigo_tipo_documento"
                                    name="codigo_tipo_documento">
                                        <nz-option *ngFor="let tp of objTipoDocumentosTbl" nzValue="{{tp.codigo_tipo_documento}}" nzLabel="{{tp.descripcion_tipo_documento}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="4">
                                    <nz-form-label nzRequired>N° de documento</nz-form-label>
                                    <input type="text" nz-input placeholder="N° de documento" formControlName="numero_documento">
                                    <input type="hidden" nz-input formControlName="af_codigo_interno">
                                    <input type="hidden" nz-input formControlName="tipo_carga">
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="5" *ngIf="actFijoObDoc != null">
                                    <nz-form-label nzRequired>Adjunto de documento</nz-form-label>
                                   <a [href]="actFijoObDoc" nz-button nzType="danger">Descargar</a>
                                   <button nz-button nzType="primary" (click)="verArchivo(editObj.imagen_factura)">Ver</button>
                                </div>
                                
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="6" *ngIf="vista == '1'">
                                    <nz-form-label nzRequired>Asignado  a: </nz-form-label>
                                    <input type="text"  formControlName="asignado" readonly  nz-input>
                                </div>
                            </div>


                        </div>
        
        
                        <div nz-col nzSpan="24" style="margin-top: 20px !important;">
                            <div nz-row>
                                <div nz-col [nzSpan]="5" *ngIf="user.rol == 'Administrador Act. VNR'">
                                    <nz-form-label nzRequired>Código de VNR</nz-form-label>
                                    <input type="text" placeholder="Código de VNR" nz-input  formControlName="af_codigo_vnr" autocomplete="off">
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="5">
                                    <nz-form-label nzRequired>Código Contabilidad</nz-form-label>
                                    <input type="text" placeholder="Código Contabilidad" nz-input  formControlName="af_codigo_contable" autocomplete="off">
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="5">
                                    <div nz-col nzSpan="24">
                                        <div nz-row>
                                            <div nz-col [nzSpan]="15">
                                                <nz-form-label nzRequired>Tipo de Activo</nz-form-label>
                                            </div>
                                        </div>
                                    </div>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo de activo" formControlName="codigo_ppye"
                                    (ngModelChange)="getCuentaContablePPYEEdicion()">
            
                                        <nz-option *ngFor="let tp of objTipoActivosTbl" nzValue="{{tp.cod_ppye}}" nzLabel="{{tp.descripcion_ppye}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="6">
                                    <nz-form-label nzRequired>Fecha de registro</nz-form-label>
                                        <input type="date" nz-input formControlName="fechaRegistro">
                                </div>
                            </div>
                        </div>
                        <div *ngIf="user.rol != 'Usuario'">
                            <div nz-col nzSpan="24"  *ngFor="let tp of objTipoActivoPPYEdicion">
                                <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
            
                                <h3>Detalles del tipo de activo</h3>
                                <div nz-row>
                                    <div nz-col [nzSpan]="1"></div>
                                    <div nz-col [nzSpan]="5">
                                        <nz-form-label nzRequired>Cuenta contable asociada</nz-form-label>
                                        <input type="text" placeholder="Cuenta contable asociada" nz-input
                                        [(ngModel)]="tp.cuenta_contable" formControlName="cuenta_contable" readonly>
                                    </div>
                                    <div nz-col [nzSpan]="1"></div>
                                    <div nz-col [nzSpan]="3">
                                        <nz-form-label nzRequired>Tasa Fiscal</nz-form-label>
                                        <input type="text" placeholder="Tasa Fiscal" nz-input
                                        [(ngModel)]="tp.tasaFiscal" formControlName="af_tasa_depreciacion_fiscal" readonly>
                                    </div>

                                    <div nz-col [nzSpan]="1"></div>
                                    <div nz-col [nzSpan]="4">
                                        <nz-form-label nzRequired>Vida útil (Años)</nz-form-label>
                                        <input type="text" placeholder="Vida útil (Años)" nz-input
                                        [(ngModel)]="tp.vidaUtil" formControlName="af_vida_util" readonly>
                                    </div>

                                    <div nz-col [nzSpan]="1"></div>
                                    <div nz-col [nzSpan]="3">
                                        <nz-form-label nzRequired>Tasa Financiera</nz-form-label>
                                        <input type="text" placeholder="Tasa Financiera" nz-input
                                        [(ngModel)]="tp.tasaFinan" formControlName="af_tasa_depreciacion_financ" readonly>
                                    </div>
            
                                  

                                    <div nz-col [nzSpan]="1"></div>
                                    <div nz-col [nzSpan]="4">
                                        <nz-form-label nzRequired>Vida útil Financiera(Años)</nz-form-label>
                                        <input type="text" placeholder="Vida útil (Años)" nz-input
                                        [(ngModel)]="tp.vidaUtilFinanciera" formControlName="vidaUtilFinanciera">
                                    </div>
                    

                                </div>
                                <div nz-row>
                                    <div nz-col [nzSpan]="1"></div>
                                    <div nz-col [nzSpan]="5">
                                        <nz-form-label nzRequired>Tipo de bien</nz-form-label>
                                        <input type="text" placeholder="Vida útil (Años)" nz-input
                                        [(ngModel)]="tp.tipo_bien" formControlName="tipo_bien">
                                    </div>
                                    <div nz-col [nzSpan]="1"></div>
                                    <div nz-col [nzSpan]="5">
                                        <nz-form-label nzRequired>Siglas</nz-form-label>
                                        <input type="text" nz-input [(ngModel)]="tp.siglas" formControlName="siglas">
                                    </div>
                                </div>
                                <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
            
                            </div>
                        </div>

                       
        
                        <div nz-col nzSpan="24">
                            <div nz-row style="margin-top: 20px !important;">
                                <div nz-col [nzSpan]="7">
                                    <nz-form-label nzRequired>Tipo de partida</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo de partida" formControlName="tipo_partida_id">
                                        <nz-option *ngFor="let tp of objTipoPartida" nzValue="{{tp.tipo_partida_id}}" nzLabel="{{tp.tipo_partida_descripcion}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="7">
                                    <div nz-col nzSpan="24">
                                        <div nz-row>
                                            <div nz-col [nzSpan]="15">
                                                <nz-form-label nzRequired>Descripción del bien</nz-form-label>
                                            </div>
                                        </div>
                                    </div>

                                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Descripción del bien" formControlName="descripcion_bien">
            
                                        <nz-option *ngFor="let tp of descActivos" nzValue="{{tp.nombre}}" nzLabel="{{tp.nombre}}"></nz-option>
                                    </nz-select>
                                    
                                   
                                </div>
                                <div nz-col [nzSpan]="2"></div>
                                <div nz-col [nzSpan]="7">
                                    <div nz-col nzSpan="24">
                                        <div nz-row>
                                            <div nz-col [nzSpan]="17">
                                                <nz-form-label nzRequired>VNR - Tipo de activo fijo</nz-form-label>
                                            </div>
                                        </div>
                                    </div>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="VNR - Tipo de activo fijo" formControlName="codigo_tipo_bien_vnr">
                                        <nz-option *ngFor="let tp of objTipoBienVNR" nzValue="{{tp.codigo_tipo_bien_vnr}}" nzLabel="{{tp.nombre_tipo_bien}}"></nz-option>
                                    </nz-select>
                                </div>
                            </div>
                        </div>
        
                        <div nz-col nzSpan="24">
                            <div nz-row style="margin-top: 20px !important;">
                                <div nz-col [nzSpan]="7">
                                    <nz-form-label nzRequired>VNR - Área ubicación del bien </nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="VNR - Área ubicación del bien" formControlName="area_del_bien_vnr">
                                        <nz-option nzValue="General" nzLabel="General"></nz-option>
                                        <nz-option nzValue="Distribución" nzLabel="Distribución"></nz-option>
                                        <nz-option nzValue="Comercial" nzLabel="Comercial"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="7">
                                    <nz-form-label nzRequired>VNR - Centro del costo del bien</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="VNR - Centro del costo del bien" formControlName="ccosto_del_bien_vnr">
                                        <nz-option *ngFor="let tp of objCCostoBien" nzValue="{{tp.estructura11_id}}" nzLabel="{{tp.estructura11_nombre}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="2"></div>
                                <div nz-col [nzSpan]="7">
                                    <div nz-col nzSpan="24">
                                        <div nz-row>
                                            <div nz-col [nzSpan]="10">
                                                <nz-form-label nzRequired>Tipo Agd</nz-form-label>
                                            </div>
                                        </div>
                                    </div>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Tipo Agd" formControlName="codigo_agd">
                                        <nz-option *ngFor="let tp of objClasificacionAgd" nzValue="{{tp.codigo_agd}}" nzLabel="{{tp.descripcion_agd}}"></nz-option>
                                    </nz-select>
                                </div>
                            </div>
                        </div>
        
                        <div nz-col nzSpan="24">
                            <div nz-row style="margin-top: 20px !important;">
                                <div nz-col [nzSpan]="10">
                                    <nz-form-label nzRequired>Bodega Asignada</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Bodega Asignada" formControlName="bodega_id">
                                        <nz-option *ngFor="let tp of objBodegas" nzValue="{{tp.bodega_id}}"
                                        nzLabel="{{tp.codigo}} -- {{tp.descripcion}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="6">
                                    <div nz-col nzSpan="24">
                                        <div nz-row>
                                            <div nz-col [nzSpan]="10">
                                                <nz-form-label nzRequired>Marca del bien </nz-form-label>
                                            </div>
                                        </div>
                                    </div>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Marca del bien" (ngModelChange)="filtrarModelosEdicion()"
                                    formControlName="codigo_marca">
            
                                        <nz-option *ngFor="let tp of objMarcasActivosTbl" nzValue="{{tp.codigo_marca}}" nzLabel="{{tp.nombre_marca}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="6">
                                    <nz-form-label nzRequired>Modelo del bien</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Modelo del bien" formControlName="codigo_modelo">
                                        <nz-option nzValue="0" nzLabel="Selecciona una marca" *ngIf="validarModelo"></nz-option>
                                        <nz-option *ngFor="let tp of objModelosActivos" nzValue="{{tp.codigo_modelo}}" nzLabel="{{tp.nombre_modelo}}"></nz-option>
                                    </nz-select>
                                </div>
        
        
        
                            </div>
                        </div>
        
        
        
                        <div nz-col nzSpan="24">
                            <div nz-row style="margin-top: 20px !important;">
                                <div nz-col [nzSpan]="3">
                                    <nz-form-label nzRequired>Serie</nz-form-label>
                                    <input type="text" nz-input placeHolder="Serie"  autocomplete="off" formControlName="af_serie"/>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="6">
                                    <nz-form-label nzRequired>Otras especificaciones</nz-form-label>
                                    <textarea rows="3" placeholder="Otras especificaciones" nz-input formControlName="otras_especificaciones" autocomplete="off"></textarea>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="4">
                                    <nz-form-label nzRequired>Fecha de compra</nz-form-label>
                                    <input type="date" formControlName="fechaCompra" nz-input>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="8">
                                    <nz-form-label nzRequired>Proveedor</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Proveedor" formControlName="codigo_proveedor">
                                        <nz-option *ngFor="let tp of objProveedores" nzValue="{{tp.entidad_id}}" nzLabel="{{tp.NOMBRE}}"></nz-option>
                                    </nz-select>
                                </div>
                            </div>
                        </div>
        
                        <div nz-col nzSpan="24">
                            <div nz-row style="margin-top: 20px !important;">
                                <div nz-col [nzSpan]="5">
                                    <nz-form-label nzRequired>Departamento</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Departamento" formControlName="cod_departamento"
                                    (ngModelChange)="filtrarMunicipiosEdicion()">
            
                                        <nz-option *ngFor="let tp of objDepartamentos" nzValue="{{tp.ID}}" nzLabel="{{tp.DepName}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="5">
                                    <nz-form-label nzRequired>Municipio</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Municipio" formControlName="cod_municipio">
                                        <nz-option nzValue="0" nzLabel="Selecciona un departamento" *ngIf="validarDepartamento"></nz-option>
                                        <nz-option *ngFor="let tp of objMunicipios" nzValue="{{tp.ID}}" nzLabel="{{tp.MunName}}"></nz-option>
                                    </nz-select>
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="6">
                                    <nz-form-label nzRequired>Ubicación Física</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Ubicación Física" formControlName="ubicacion_fisica">
                                        <nz-option *ngFor="let tp of objUbicacionFisica" nzValue="{{tp.id}}" nzLabel="{{tp.ubicacion}}"></nz-option>
                                    </nz-select>
                                </div>
        
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="5">
                                    <nz-form-label nzRequired>Ubicación específica</nz-form-label>
                                    <nz-select  nzShowSearch nzAllowClear nzPlaceHolder="Ubicación específica" formControlName="ubicacion_especifica">
                                        <nz-option *ngFor="let tp of objUbicacionEspecifica" nzValue="{{tp.id}}" nzLabel="{{tp.ubicacion}}"></nz-option>
                                    </nz-select>
                                </div>
                                
                            </div>
                        </div>
        
                         <div nz-col nzSpan="24">
                            <div nz-row style="margin-top: 20px !important;">
                                <div nz-col [nzSpan]="5" *ngIf="user.rol != 'Usuario'">
                                    <nz-form-label nzRequired>Valor de compra (sin IVA)</nz-form-label>
                                    <input type="number" step="0.01"  nz-input placeholder="Valor de compra" autocomplete="off" formControlName="compraSivaFormat">
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                               <div nz-col [nzSpan]="7" *ngIf="user.rol == 'Administrador Act. Contable'">
                                    <nz-form-label nzRequired >Valor residual</nz-form-label>
                                    <input type="number" step="0.01"  nz-input placeholder="Valor residual" autocomplete="off" formControlName="valorResidualFormat">
                                </div>
                                <div nz-col [nzSpan]="1"></div>
                                <div nz-col [nzSpan]="7" *ngIf="user.rol == 'Administrador Act. VNR'">
                                    <nz-form-label nzRequired>Valor VNR</nz-form-label>
                                    <input type="number" step="0.01"  nz-input placeholder="Valor VNR" autocomplete="off" formControlName="valorVNRFormat">
                                </div>
                                
                            </div>
                        </div>
        
                        <div nz-col nzSpan="24">
                            <div nz-row style="margin-top: 40px !important;">
                                <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;"></nz-divider>
                                <button *ngIf="user.rol != 'Usuario' && vista == 1" (click)="guardarEdicionActivo()"  nz-button nzType="primary" nzBlock>Guardar datos</button>
                            </div>
                        </div>
        
                    </nz-tab>
                    <nz-tab nzTitle="Historial del activo">
                     
                        <nz-table nzShowPagination #rowSelectionTableHistorial
                            nzShowSizeChanger #basicTable (nzCurrentPageDataChange)="onCurrentPageDataChangeHistorial($event)"
                            [nzData]="listOfCurrentPageDataHistorial">
                            <thead>
                            <tr>

                                <th><i nz-icon nzType="tool" nzTheme="outline"></i> Movimiento</th>
                                <th><i nz-icon nzType="calendar" nzTheme="outline"></i> Fecha </th>
                                <th><i nz-icon nzType="user" nzTheme="outline"></i> Usuario </th>
                                <th><i nz-icon nzType="user" nzTheme="outline"></i> Aprobado por </th>
                                <th><i nz-icon nzType="user" nzTheme="outline"></i> Usuario asignado </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let hist of rowSelectionTableHistorial.data">
                                <td>{{ hist.movimiento }}</td>
                                <td>{{ hist.fechaMovimiento }} {{hist.horaMovimiento}}</td>
                                <td>{{ hist.usuario_movimiento }}</td>
                                <td>{{ hist.usuario_aprobacion }}</td>
                                <td>{{ hist.usuario_asignado }}</td>
                            </tr>
                            </tbody>
                        </nz-table>
                    </nz-tab>
                </nz-tabset>
        
        
        
            </div>
        </form>

    </ng-template>

    <ng-template #modalFooterDetallesActivo>
        <button nz-button nzType="danger" (click)="cerrarCardEditar()">Cancelar</button>
    </ng-template>
</nz-modal>



<nz-modal  [(nzVisible)]="modalBajaConfirmacion"   [nzFooter]="modalFooterBaja" [nzContent]="modalContentBaja"
(nzOnCancel)="cerrarModalActivacion()">

    <ng-template #modalContentBaja>
       
        <form nz-form  [formGroup]="bajaActivoForm">
            <div nz-row>

                <div nz-col nzSpan="24">
                    <h3 style="text-align: center !important;">¿Desea iniciar el proceso de baja del artículo N° {{actFijoOb.af_codigo_interno}} ?</h3>

                </div>

                <div nz-col nzSpan="24">
                    <nz-form-label nzRequired>Motivo de la baja </nz-form-label>
                    <textarea rows="3" placeholder="Motivo de baja" nz-input formControlName="motivoBajaInput" autocomplete="off"></textarea>
                </div>
            </div>
        </form>
    </ng-template>

    <ng-template #modalFooterBaja>
        <button nz-button nzType="danger" (click)="cerrarModalBajaConfirmacion()">Cancelar</button>
        <button nz-button nzType="primary" [disabled] = "bajaActivoForm.invalid"  (click)="iniciarBaja()">Iniciar baja</button>
    </ng-template>
</nz-modal>




<!-- MODAL PARA aceptar el proceso DE traslado -->
<nz-modal [(nzVisible)]="modalAceptarTrasladoVisible"   [nzFooter]="modalFooterAceptarTraslado" [nzContent]="modalContentAceptarTraslado"
(nzOnCancel)="cerrarModalAceptarTraslado()">

    <ng-template #modalContentAceptarTraslado>
        <h3 style="text-align: center !important;margin-top: 40px;">¿Desea aceptar el traslado del activo N°
            {{actFijoOb.af_codigo_interno}}
            del usuario {{actFijoOb.usuarioAnterior}}?</h3>
    </ng-template>

    <ng-template #modalFooterAceptarTraslado>
        <button nz-button nzType="danger" (click)="cerrarModalAceptarTraslado()">Cancelar</button>
        <button nz-button nzType="primary" (click)="guardarAceptacionTraslado()">Aceptar traslado</button>
    </ng-template>
</nz-modal>



<!--Modal para elegir si se asginará otro activo sobre el documento-->
<nz-modal [(nzVisible)]="modalElegirMismoDocumento"   [nzFooter]="modalElegirMismoDocumentoFooter" [nzContent]="modalElegirMismoDocumentoContent">

    <ng-template #modalElegirMismoDocumentoContent>
        <h3 style="text-align: center !important;margin-top: 40px;">¿Desea generar otro activo sobre el mismo 
            documento?</h3>
    </ng-template>

    <ng-template #modalElegirMismoDocumentoFooter>
        <button nz-button nzType="danger" (click)="finalizarSoloUno()">No, ya he finalizado...</button>
        <button nz-button nzType="primary" (click)="ingresarOtroActivoMismoDoc()">Si, añadir otro...</button>
    </ng-template>
</nz-modal>


<!--Modal para mostrar listado de activos a dar de baja-->


<!--modal para el listado de activos a dar de baja-->
<nz-modal [(nzVisible)]="modalListadoActivosBaja"  nzWidth="60%"  
 [nzFooter]="modalListaBajafooter" [nzContent]="modalListaBajaContent" (nzOnCancel)="cerrarModalListaActivoBajas()">
    <ng-template #modalListaBajaContent>
        <br>
        <h2 style="text-align: center !important;">Listado de activos de los que se iniciará el proceso de baja</h2>

       
                <form [formGroup]="frm_activoBaja" style="margin-left: 30px;margin-right: 30px;">       

                    <nz-table [nzData]="['']" #basicTable [nzShowPagination]="false">
                        <thead>
                            <tr>
                                <th style="text-align: center !important; background-color: #7B0505 !important;
                                color: white !important;">
                                    Código
                                </th>
                                <th style="text-align: center !important; background-color: #7B0505 !important;
                                color: white !important;">
                                    Activo
                                </th>
                                <th style="text-align: center !important; background-color: #7B0505 !important;
                                color: white !important;">
                                    Motivo de baja
                                </th>
                            </tr>
                        </thead>
                        <tbody  formArrayName="actSeleccionadosBajas">
                            <tr *ngFor="let item of actSeleccionadosBajas.controls; let pointIndex=index" [formGroupName]="pointIndex">
                                <td>
                                  <input nz-input type="text" formControlName="idActivo" readonly="true"
                                  style="text-align: center !important;">
                                </td>
                               
                                <td>
                                    <input nz-input type="text" formControlName="descripcion" readonly="true"
                                    style="text-align: center !important;">
                                  </td>
                                  <td>
                                    <textarea nz-input type="text" formControlName="motivoBaja"
                                    placeholder="Digita el motivo de la baja"></textarea>
                                  </td>
                            </tr>
                        </tbody>
                    </nz-table>
                  </form>
        
    </ng-template>
    <ng-template #modalListaBajafooter>
        <button nz-button nzType="danger" (click)="cerrarModalListaActivoBajas()">Cancelar</button>
        <button nz-button nzType="primary" (click)="iniciarProcesoBajaListado()"
        *ngIf="user.rol != 'Administrador Act. Contable'">Iniciar proceso de baja</button>

        <button nz-button nzType="primary" (click)="finalizarProcesoBajaListado()"
        *ngIf="user.rol == 'Administrador Act. Contable'">Finalizar proceso de baja</button>
    </ng-template>
</nz-modal>


<!--modal para el listado de activos a trasladar-->
<nz-modal [(nzVisible)]="modalListadoActivosTraslados"  nzWidth="60%"  
 [nzFooter]="modalListaTrasladofooter" [nzContent]="modalListaTrasladoContent" (nzOnCancel)="cerrarModalListaActivoTraslados()">
    <ng-template #modalListaTrasladoContent>
        <br>
        <h2 style="text-align: center !important;">Listado de activos de los que se iniciará el proceso de traslado</h2>
        <nz-divider nzType="horizontal" style="height: 1px !important;background-color: #001529;
        margin-left: 30px;margin-right: 30px"></nz-divider>
       
        <form nz-form  [formGroup]="trasladoActivoForm" style="margin-left: 30px;margin-right: 30px;">
            <div nz-row>
                <div nz-col nzSpan="12">
                    <nz-form-label nzRequired>Usuario a que se trasladará el activo</nz-form-label>
                    <nz-select formControlName="usuarioTrasladoNuevo"  id="usuarioTrasladoNuevo" 
                    nzShowSearch nzAllowClear nzPlaceHolder="Nombre de usuario">
                        <nz-option *ngFor="let user of objUsuarios" nzValue="{{user.id}}" nzLabel="{{user.nombre}}"></nz-option>
                      </nz-select>
                </div>
            </div>
        </form>
            <br><br>
                <form [formGroup]="frm_activoTraslado" style="margin-left: 30px;margin-right: 30px;">       

                    <nz-table [nzData]="['']" #basicTable [nzShowPagination]="false">
                        <thead>
                            <tr>
                                <th style="text-align: center !important; background-color: #7B0505 !important;
                                color: white !important;">
                                    Código
                                </th>
                                <th style="text-align: center !important; background-color: #7B0505 !important;
                                color: white !important;">
                                    Activo
                                </th>
                            </tr>
                        </thead>
                        <tbody  formArrayName="actSeleccionadosTraslados">
                            <tr *ngFor="let item of actSeleccionadosTraslados.controls; let pointIndex=index" [formGroupName]="pointIndex">
                                <td>
                                  <input nz-input type="text" formControlName="idActivo" readonly="true"
                                  style="text-align: center !important;">
                                </td>
                               
                                <td>
                                    <input nz-input type="text" formControlName="descripcion" readonly="true"
                                    style="text-align: center !important;">
                                  </td>
                            </tr>
                        </tbody>
                    </nz-table>
                  </form>
        
    </ng-template>
    <ng-template #modalListaTrasladofooter>
        <button nz-button nzType="danger" (click)="cerrarModalListaActivoTraslados()">Cancelar</button>
        <button nz-button nzType="primary" (click)="iniciarProcesoTrasaladoListado()">Iniciar proceso de traslado</button>

    </ng-template>
</nz-modal>


<nz-modal [(nzVisible)]="modalVerArchivo"  nzWidth="80%"
 [nzFooter]="modalModalVerArchivofooter" [nzContent]="modalModalVerArchivoContent"
 (nzOnCancel)="cerrarModalVerArchivo()">
    <ng-template #modalModalVerArchivoContent>

            <div *ngIf="extension === 'pdf' || extension === 'PDF'">
              <iframe [src]="adjuntoVer" width="100%" height="450px"></iframe>
            </div>
            <div *ngIf="extension === 'jpg' || extension === 'JPG' || extension === 'PEG' || extension === 'peg'">
              <img [src]="adjuntoVer" width="650px" height="450px"
              style="margin-left: 20%;"/>
            </div>
            <div *ngIf="extension === 'png' || extension === 'PNG' ">
              <img [src]="adjuntoVer" width="650px" height="450px"
              style="margin-left: 20%;"/>
            </div>
            <div *ngIf="extension === 'txt' ">
              <h2 style="color:yellow;text-align: center;">El formato .txt solo puede ser descargado</h2>
            </div>

        
    </ng-template>
    <ng-template #modalModalVerArchivofooter>
        <button nz-button nzType="danger" (click)="cerrarModalVerArchivo()">Cancelar</button>
    </ng-template>
</nz-modal>